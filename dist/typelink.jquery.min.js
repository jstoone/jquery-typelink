!function($,t,e,i){function s(t,i){this.$element=$(t),this.$document=$(e),this.settings=$.extend({},a,i),this._defaults=a,this._name=n,this._animationInterval=$.noop(),this._charIndex=0,this._currentPage=this.settings.pages[this.settings.startPage],this._fullstring="",this._fullstringLength=0,this._stringWrapStart=0,this._linkIndex=this.settings.startPage,this._stringTag={start:"[s]",end:"[/s]"},this._externalWrapper=$('<a href="#" />'),this.init()}var n="typelink",a={pages:{},startPage:0,textDelay:50,$wrapper:$("<span>"),wrapperClass:"highlight",externalClass:"highlight",externalTarget:"_blank",deleteDelay:15};$.extend(s.prototype,{init:function(){this.settings.$wrapper=this.buildWordWrap(),this.settings.$wrapper.css("white-space","pre"),this.createEvents(),this.animateText(this.settings.startPage)},buildWordWrap:function(){return this.settings.$wrapper.addClass(this.settings.wrapperClass)},animateText:function(t){this.resetValues(t),this._animationInterval=setInterval($.proxy(this.animationCycle,this),this.settings.textDelay)},animationCycle:function(){var t=this._fullstring.substring(this._charIndex-1,this._charIndex),e=this._fullstring.substring(this._charIndex-1,this._charIndex+2),i=this._fullstring.substring(this._charIndex-1,this._charIndex+3);0===e.indexOf(this._stringTag.start)?(this._stringWrapStart=this._charIndex,this._charIndex+=2):0===i.indexOf(this._stringTag.end)?(this.wrapWord(this._stringWrapStart,this._charIndex),this._charIndex+=3):this.$element.append(t),this._charIndex>=this._fullstringLength&&this.stopTyping(),this._charIndex++},wrapWord:function(t,e){var s=t,n=e,a=this._fullstring.slice(s+2,n-1),r=this.$element.html(),h=r.length,l=r.slice(0,h-a.length),g=null,p=this._currentPage.links[this._linkIndex];p.toText!=i?(g=this.settings.$wrapper.text(a),g.attr("data-page",p.toText)):(g=this._externalWrapper.text(a),g.addClass(this.settings.externalClass),g.attr({href:p.link,target:this.settings.externalTarget})),0==s&&(l=""),this.$element.html(l+" ").append(g),this._linkIndex++},stopTyping:function(){clearInterval(this._animationInterval)},resetValues:function(t){this._charIndex=0,this._linkIndex=0,this._currentPage=this.settings.pages[t],this._fullstring=this._currentPage.text,this._fullstringLength=this._fullstring.length},createEvents:function(){var t="."+this.settings.wrapperClass,e=t+":not('a')";this.$document.on("click",e,this,this.changePage)},changePage:function(t){var e=t.data,i=$(this).data("page");clearInterval(e._animationInterval),e.textResetHideAnimation(function(){e.animateText(i)})},textResetHideAnimation:function(t){var e=this.settings.$wrapper.parent();e.html(e.text());var i=e.text(),s=i.length;this._animationInterval=setInterval($.proxy(function(){var n=i.substring(0,s);e.text(n),0>=s&&(clearInterval(this._animationInterval),t()),s--},this),this.settings.deleteDelay)}}),$.fn[n]=function(t){return this.each(function(){$.data(this,"plugin_"+n)||$.data(this,"plugin_"+n,new s(this,t))}),this}}(jQuery,window,document);