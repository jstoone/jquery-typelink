!function($,t,e,i){function n(t,i){this.$element=$(t),this.$document=$(e),this.settings=$.extend({},r,i),this._defaults=r,this._name=s,this._animationInterval=$.noop(),this.wordIndex=1,this.charIndex=1,this.currentWordLength=0,this.currentPage=this.settings.pages[this.settings.startPage],this.fullstring=this.currentPage.text,this.wordList=this.fullstring.split(" "),_this=this,this.backAnimation={text:"",textLength:0,characterIndex:0},this.init()}var s="typelink",r={pages:{},startPage:0,textDelay:50,$wrapper:$("<span>"),wrapperClass:"highlight",deleteDelay:15};$.extend(n.prototype,{init:function(){this.settings.$wrapper=this.buildWordWrap(),this.createEvents(),this.animateText(this.settings.startPage)},buildWordWrap:function(){return this.settings.$wrapper.addClass(this.settings.wrapperClass)},animateText:function(t){this.currentPage=this.settings.pages[t],this.fullstring=this.currentPage.text,this.wordList=this.fullstring.split(" "),this._animationInterval=setInterval(this.animationCycle,this.settings.textDelay)},animationCycle:function(){var t=_this.fullstring.substring(_this.charIndex-1,_this.charIndex);if(_this.$element.append(t),_this.charIndex>=_this.fullstring.length&&_this.stopTyping()," "==t){for(var e=0;e<_this.currentPage.links.length;e++){var i=_this.currentPage.links[e];i.word==_this.wordIndex-e&&(i.word<=1?_this.wrapWord(!0):(_this.wrapWord(!1),_this.charIndex--))}_this.wordIndex++,_this.currentWordLength=0}_this.charIndex++,_this.currentWordLength++},wrapWord:function(t){var e=this.$element.text(),i=this.charIndex-1-(this.currentWordLength-1),n=e.length-1,s=e.substring(i,n),r=this.settings.$wrapper.text(s);r.attr("data-page",this.currentPage.links.toText);var a=e.substring(0,i);this.$element.html(a).append(r)},stopTyping:function(){this.currentPage.links.word==this.wordList.length&&this.wrapWord(!1),clearInterval(this._animationInterval)},resetValues:function(){this.wordIndex=1,this.charIndex=1,this.currentWordLength=0,this.fullstring=this.currentPage.text,this.wordList=this.fullstring.split(" ")},createEvents:function(){var t="."+this.settings.wrapperClass;this.$document.on("click",t,this,this.shiftPage)},shiftPage:function(t){var e=t.data,i=$(this).data("page");clearInterval(e._animationInterval),e.textResetHideAnimation(function(){e.animateText(i)}),e.resetValues(i)},textResetHideAnimation:function(t){var e=this.settings.$wrapper.parent();e.html(e.text());var i=e.text(),n={scope:this,currentIndex:i.length,fullText:i,$element:e,callback:t};this._animationInterval=setInterval($.proxy(function(){var t=n,e=t.fullText.substring(0,t.currentIndex);t.$element.text(e),t.currentIndex<=0&&(clearInterval(t.scope._animationInterval),t.callback()),t.currentIndex--},n),this.settings.deleteDelay)}}),$.fn[s]=function(t){return this.each(function(){$.data(this,"plugin_"+s)||$.data(this,"plugin_"+s,new n(this,t))}),this}}(jQuery,window,document);